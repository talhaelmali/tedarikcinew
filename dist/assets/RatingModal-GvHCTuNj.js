import{r as K,aw as me,g as he,j as d,ax as Se,O as ye,h as _e,S as ce}from"./index-D8FzNVl7.js";import{M as be}from"./index-BfQpAw_w.js";var fe={},ie={};Object.defineProperty(ie,"__esModule",{value:!0});var y=function(){function e(a,s){var r=[],c=!0,m=!1,i=void 0;try{for(var o=a[Symbol.iterator](),f;!(c=(f=o.next()).done)&&(r.push(f.value),!(s&&r.length===s));c=!0);}catch(b){m=!0,i=b}finally{try{!c&&o.return&&o.return()}finally{if(m)throw i}}return r}return function(a,s){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a))return e(a,s);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();ie.default=pe;var _=K;function pe(e){var a=(0,_.useState)(e.count),s=y(a,2),r=s[0],c=s[1],m=(0,_.useState)(e.size),i=y(m,2),o=i[0],f=i[1],b=(0,_.useState)(e.char),C=y(b,2),k=C[0],x=C[1],D=(0,_.useState)(e.color),I=y(D,2),M=I[0],E=I[1],R=(0,_.useState)(e.activeColor),H=y(R,2),l=H[0],w=H[1],j=(0,_.useState)(e.isHalf),N=y(j,2),T=N[0],A=N[1],X=(0,_.useState)(e.edit),q=y(X,2),G=q[0],z=q[1],J=(0,_.useState)(e.emptyIcon),U=y(J,2),Q=U[0],W=U[1],Y=(0,_.useState)(e.halfIcon),V=y(Y,2),Z=V[0],ee=V[1],te=(0,_.useState)(e.filledIcon),$=y(te,2),O=$[0],ae=$[1],re=(0,_.useState)(e.a11y),L=y(re,2),ne=L[0],P=L[1],se={count:r,size:o,char:k,color:M,activeColor:l,isHalf:T,edit:G,emptyIcon:Q,halfIcon:Z,filledIcon:O,a11y:ne};function le(v){c(v.count),f(v.size),x(v.char),E(v.color),w(v.activeColor),A(v.isHalf),z(v.edit),W(v.emptyIcon),ee(v.halfIcon),ae(v.filledIcon),P(v.a11y)}return[se,le]}var ue={};Object.defineProperty(ue,"__esModule",{value:!0});var xe=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e};ue.default=we;var Ie=K,ge=Ce(Ie);function Ce(e){return e&&e.__esModule?e:{default:e}}var He={position:"relative",overflow:"hidden",cursor:"pointer",display:"block",float:"left"};function we(e){var a=e.index,s=e.active,r=e.config,c=e.onMouseOver,m=e.onMouseLeave,i=e.onClick,o=e.halfStarHidden,f=e.halfStarAt,b=e.isUsingIcons,C=e.uniqueness,k=r.color,x=r.activeColor,D=r.size,I=r.char,M=r.isHalf,E=r.edit,R=r.halfIcon,H=r.emptyIcon,l=r.filledIcon,w="",j=!1;M&&!o&&f===a&&(b?w="react-stars-half":w="react-stars-"+C,j=!0);var N=xe({},He,{color:s?x:k,cursor:E?"pointer":"default",fontSize:D+"px"});function T(){return b?s?l:!s&&j?R:H:I}return ge.default.createElement("span",{className:w,style:N,key:a,"data-index":a,"data-forhalf":l?a:I,onMouseOver:c,onMouseMove:c,onMouseLeave:m,onClick:i},T())}Object.defineProperty(fe,"__esModule",{value:!0});var g=function(){function e(a,s){var r=[],c=!0,m=!1,i=void 0;try{for(var o=a[Symbol.iterator](),f;!(c=(f=o.next()).done)&&(r.push(f.value),!(s&&r.length===s));c=!0);}catch(b){m=!0,i=b}finally{try{!c&&o.return&&o.return()}finally{if(m)throw i}}return r}return function(a,s){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a))return e(a,s);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=K,F=B(p),Ne=me,S=B(Ne),ke=ie,Me=B(ke),je=ue,Ae=B(je);function B(e){return e&&e.__esModule?e:{default:e}}var ze={overflow:"hidden",position:"relative"};function Oe(e,a){return`
    .react-stars-`+a+`:before {
      position: absolute;
      overflow: hidden;
      display: block;
      z-index: 1;
      top: 0; left: 0;
      width: 50%;
      content: attr(data-forhalf);
      color: `+e+`;
  }`}function De(e){return`
          span.react-stars-half > * {
          color: `+e+`;
      }`}function oe(e){var a=(0,p.useState)(""),s=g(a,2),r=s[0],c=s[1],m=(0,p.useState)(0),i=g(m,2),o=i[0],f=i[1],b=(0,p.useState)([]),C=g(b,2),k=C[0],x=C[1],D=(0,p.useState)(!1),I=g(D,2),M=I[0],E=I[1],R=(0,Me.default)(e),H=g(R,2),l=H[0],w=H[1],j=(0,p.useState)(0),N=g(j,2),T=N[0],A=N[1],X=(0,p.useState)(!1),q=g(X,2),G=q[0],z=q[1],J=(0,p.useState)(""),U=g(J,2),Q=U[0],W=U[1];function Y(t){return!t.isHalf&&t.emptyIcon&&t.filledIcon||t.isHalf&&t.emptyIcon&&t.halfIcon&&t.filledIcon}function V(){c((Math.random()+"").replace(".",""))}(0,p.useEffect)(function(){ee(),Z(e.value,e.count),x(O(e.value)),w(e),V(),E(Y(e)),A(Math.floor(e.value)),z(e.isHalf&&e.value%1<.5)},[]);function Z(t,n){t<0||t>n?f(0):f(t)}function ee(){var t="react-stars";W(e.classNames+(" "+t))}function te(t){return t%1===0}function $(){return l.isHalf?Math.floor(o):Math.round(o)}function O(t){typeof t>"u"&&(t=$());for(var n=[],u=0;u<l.count;u++)n.push({active:u<=t-1});return n}function ae(t){if(l.edit){var n=Number(t.currentTarget.getAttribute("data-index"));if(l.isHalf){var u=L(t);z(u),u&&(n+=1),A(n)}else n+=1;re(n)}}function re(t){var n=k.filter(function(u){return u.active});t!==n.length&&x(O(t))}function L(t){var n=t.target,u=n.getBoundingClientRect(),h=t.clientX-u.left;return h=Math.round(Math.abs(h)),h>u.width/2}function ne(){l.edit&&(P(o),x(O()))}function P(t){l.isHalf&&(z(te(t)),A(Math.floor(t)))}function se(t){if(l.edit){var n=Number(t.currentTarget.getAttribute("data-index")),u=void 0;if(l.isHalf){var h=L(t);z(h),h&&(n+=1),u=h?n:n+.5,A(n)}else u=n=n+1;v(u)}}function le(){return F.default.createElement("style",{dangerouslySetInnerHTML:{__html:M?De(l.activeColor):Oe(l.activeColor,r)}})}function v(t){t!==o&&(x(O(t)),f(t),e.onChange(t))}function de(t){if(!(!l.a11y&&!l.edit)){var n=t.key,u=o,h=Number(n);h?Number.isInteger(h)&&h>0&&h<=l.count&&(u=h):(n==="ArrowUp"||n==="ArrowRight")&&u<l.count?(t.preventDefault(),u+=l.isHalf?.5:1):(n==="ArrowDown"||n==="ArrowLeft")&&u>.5&&(t.preventDefault(),u-=l.isHalf?.5:1),P(u),v(u)}}function ve(){return k.map(function(t,n){return F.default.createElement(Ae.default,{key:n,index:n,active:t.active,config:l,onMouseOver:ae,onMouseLeave:ne,onClick:se,halfStarHidden:G,halfStarAt:T,isUsingIcons:M,uniqueness:r})})}return F.default.createElement("div",{className:"react-stars-wrapper-"+r,style:{display:"flex"}},F.default.createElement("div",{tabIndex:l.a11y&&l.edit?0:null,"aria-label":"add rating by typing an integer from 0 to 5 or pressing arrow keys",onKeyDown:de,className:Q,style:ze},l.isHalf&&le(),ve(),F.default.createElement("p",{style:{position:"absolute",left:"-200rem"},role:"status"},o)))}oe.propTypes={classNames:S.default.string,edit:S.default.bool,half:S.default.bool,value:S.default.number,count:S.default.number,char:S.default.string,size:S.default.number,color:S.default.string,activeColor:S.default.string,emptyIcon:S.default.element,halfIcon:S.default.element,filledIcon:S.default.element,a11y:S.default.bool};oe.defaultProps={edit:!0,half:!1,value:0,count:5,char:"★",size:15,color:"gray",activeColor:"#ffd700",a11y:!0,onChange:function(){}};var Ee=fe.default=oe;const Re=he(),Ue=({companyId:e,closeModal:a})=>{const[s,r]=K.useState({speed:0,communication:0,quality:0}),c=(i,o)=>{r(f=>({...f,[i]:o}))},m=async()=>{try{await ye(_e(Re,"companies",e,"ratings"),s),ce.fire("Başarılı!","Değerlendirmeniz kaydedildi.","success"),a()}catch(i){console.error("Değerlendirme kaydedilirken hata oluştu:",i),ce.fire("Hata!","Değerlendirme kaydedilirken bir hata oluştu.","error")}};return d.jsx(be,{isOpen:!0,onRequestClose:a,contentLabel:"Firmayı Değerlendir",ariaHideApp:!1,className:"fixed inset-0 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md w-full max-w-lg relative z-40",children:[d.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700",onClick:a,children:d.jsx(Se,{className:"h-6 w-6"})}),d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Firmayı Değerlendir"}),d.jsx("div",{className:"mb-4",children:["speed","communication","quality"].map(i=>d.jsxs("div",{className:"mb-2",children:[d.jsx("label",{className:"block text-gray-700 mb-1",children:i==="speed"?"Hız":i==="communication"?"İletişim":"Kalite"}),d.jsx(Ee,{count:5,onChange:o=>c(i,o),size:24,isHalf:!0,emptyIcon:d.jsx("i",{className:"far fa-star"}),halfIcon:d.jsx("i",{className:"fa fa-star-half-alt"}),fullIcon:d.jsx("i",{className:"fa fa-star"}),activeColor:"#ffd700",value:s[i]})]},i))}),d.jsxs("div",{className:"flex justify-end space-x-2",children:[d.jsx("button",{onClick:a,className:"bg-gray-300 text-black px-4 py-2 rounded-md",children:"Vazgeç"}),d.jsx("button",{onClick:m,className:"bg-blue-600 text-white px-4 py-2 rounded-md",children:"Değerlendir"})]})]})})};export{Ue as R,Ee as _};
