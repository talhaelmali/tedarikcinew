import{R as T,j as s,L as h}from"./index-Pf0wcubd.js";import{d as r,r as k,a as A}from"./duration-CjPxDxgc.js";r.extend(k);r.extend(A);const D=T.memo(({ad:t})=>{const p=e=>e==="Kapalı Usül Teklif"?{className:"bg-yellow-100 text-yellow-800",text:"Kapalı Usül Teklif"}:e==="Açık Usül İhale"||e==="Açık Usül Teklif"?{className:"bg-green-100 text-green-800",text:"Açık Usül Teklif"}:{className:"bg-gray-100 text-gray-800",text:e},g=(e,n)=>{if(!e||!n)return null;let l;if(e.seconds)l=new Date(e.seconds*1e3);else if(e instanceof Date)l=new Date(e.getTime());else if(typeof e=="string")l=new Date(e);else return null;return l.setDate(l.getDate()+parseInt(n)),l},f=e=>{if(!e)return"Bilinmiyor";let n;if(e.seconds)n=r(e.seconds*1e3);else if(e instanceof Date)n=r(e.getTime());else if(typeof e=="string")n=r(e);else return"Bilinmiyor";const l=r(),u=n.diff(l);if(u<=0)return"İlan Süresi Doldu";const a=r.duration(u),b=Math.floor(a.asDays()),v=a.hours(),w=a.minutes();return`${b} gün ${v} saat ${w} dakika`},y=e=>e.length>100?e.substring(0,100)+"...":e,c=e=>e.length>30?e.substring(0,30)+"...":e,m=e=>e.length>3?[...e.slice(0,3),"..."]:e,x=t.images||"https://via.placeholder.com/150";let i;t.createdAt&&t.createdAt.seconds?i=r(t.createdAt.seconds*1e3):t.createdAt instanceof Date?i=r(t.createdAt.getTime()):typeof t.createdAt=="string"?i=r(t.createdAt):i=null;const N=i?i.fromNow():"Bilinmiyor",o=p(t.adType),j=t.endDate||g(t.createdAt,t.duration),d=f(j);return s.jsx("li",{className:"py-4",children:s.jsxs("div",{className:"border rounded-lg shadow-sm bg-white",children:[s.jsxs("div",{className:"hidden md:flex justify-between items-center p-4",children:[s.jsxs("div",{className:"flex",children:[s.jsx("img",{src:x,alt:t.title,className:"w-24 h-24 object-cover rounded-lg mr-4",onError:e=>{e.target.onerror=null,e.target.src="https://via.placeholder.com/150"}}),s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center space-x-2",children:t.sectors&&m(t.sectors).map((e,n)=>s.jsx("span",{className:"bg-gray-100 text-gray-800 text-sm font-medium px-2 py-1 rounded max-w-[100px] truncate",title:e,children:e},n))}),s.jsxs("h3",{className:"text-sm font-medium text-gray-900",children:[s.jsx(h,{to:`/ad-details/${t.companyId}/${t.id}`,className:"hover:underline",children:c(t.title)}),s.jsxs("span",{className:"text-blue-600",children:[" #",t.id]})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:y(t.content)})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"flex justify-end items-center gap-2",children:[s.jsx("span",{className:`inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium ${o.className}`,children:o.text}),s.jsx("p",{className:"text-sm text-gray-500",children:N})]}),s.jsxs("div",{className:"mt-2 space-y-1",children:[t.requestSample&&s.jsx("div",{className:"inline-block bg-blue-800 text-white text-sm font-medium px-3 py-1 mr-2 rounded-md",children:"Numune Talep Ediyor"}),t.maxBid&&s.jsxs("div",{className:"inline-block bg-[#EE6F2D] text-white text-sm font-medium px-3 py-1 rounded-md",children:["Bütçe: ",new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(t.maxBid)]})]}),s.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[s.jsx("span",{className:"text-blue-600",children:"İlanın Bitimine:"})," ",d]})]})]}),s.jsx("div",{className:"md:hidden p-4",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("img",{src:x,alt:t.title,className:"w-16 h-16 object-cover rounded-lg",onError:e=>{e.target.onerror=null,e.target.src="https://via.placeholder.com/150"}}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-900",children:[s.jsx(h,{to:`/ad-details/${t.companyId}/${t.id}`,className:"hover:underline",children:c(t.title)}),s.jsxs("span",{className:"text-blue-600",children:[" #",t.id]})]}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t.sectors&&m(t.sectors).map((e,n)=>s.jsx("span",{className:"bg-gray-100 text-gray-800 text-xs font-medium px-2 py-1 rounded truncate",title:e,children:e},n))}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[t.requestSample&&s.jsx("span",{className:"bg-blue-800 text-white text-xs font-medium px-2 py-1 rounded-md",children:"Numune Talep Ediyor"}),t.maxBid&&s.jsxs("span",{className:"bg-[#EE6F2D] text-white text-xs font-medium px-2 py-1 rounded-md",children:["Bütçe: ",new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(t.maxBid)]})]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[s.jsx("span",{className:"text-blue-600",children:"İlanın Bitimine:"})," ",d]})]})]})})]})},t.id)});export{D as A};
